# AMM Strategy Comparison Report

## Steer Finance vs Charm.fi vs Omnis AI

### Market Conditions
- **Period**: Historical BTC/USDC pool data
- **Price Movement**: $120,092 ‚Üí $96,098 (**-20% decline**)
- **Initial Capital**: $10,000 (50% WBTC + 50% USDC)

---

## Strategy Overview

### 1. Charm Alpha Vault (Passive Rebalancing)
- **Approach**: Base Order + Limit Order, NO swaps
- **Rebalance Interval**: 48 hours
- **Protocol Fee**: 2% on earned fees
- **Key Feature**: Zero swap costs, relies on market to fill limit orders

### 2. Steer Classic (Fixed Width)
- **Approach**: Fixed tick range, rebalance on price deviation
- **Trigger**: Price moves >5% from center
- **Protocol Fee**: 15% on earned fees
- **Key Feature**: Simple and predictable

### 3. Steer Elastic (Bollinger Bands)
- **Approach**: Dynamic range based on volatility
- **Parameters**: 20-period SMA, 2œÉ bands
- **Protocol Fee**: 15% on earned fees
- **Key Feature**: Adapts to volatility

### 4. Steer Fluid (Three-State)
- **Approach**: Default/Limit/Sprawl positions based on ratio
- **States**: Balanced ‚Üí Limit Orders ‚Üí Wide Protection
- **Protocol Fee**: 15% on earned fees
- **Key Feature**: Maintains target allocation

---

## Performance Comparison

| Strategy | Total Return | Max Drawdown | Rebalances | Gas Cost | Swap Cost | Total Cost |
|----------|-------------|--------------|------------|----------|-----------|------------|
| **Charm Alpha Vault** | **-51.92%** | 99.31% | 55 | $1,650 | $0 | **$1,650** |
| Steer Classic | -99.00% | 100.00% | 44 | $1,320 | $13 | $1,333 |
| Steer Elastic | -99.00% | 100.00% | 304 | $9,120 | $11 | **$9,131** |
| Steer Fluid | -76.66% | 99.69% | 48 | $1,440 | $0 | $1,440 |

---

## Key Findings

### üèÜ Best Performer: Charm Alpha Vault
- **Lowest Loss**: -51.92% (vs market -20%)
- **Zero Swap Costs**: Passive rebalancing eliminates DEX fees
- **Moderate Rebalancing**: 55 times over the period

### ‚ö†Ô∏è Worst Performer: Steer Elastic
- **Highest Cost**: $9,131 in gas fees alone
- **Over-rebalancing**: 304 rebalances (6x more than others)
- **Bollinger bands triggered too frequently in volatile market**

### üìä Cost Efficiency Analysis
```
Charm:   $1,650 total cost, $30/rebalance
Classic: $1,333 total cost, $30/rebalance  
Elastic: $9,131 total cost, $30/rebalance (but 6x more rebalances!)
Fluid:   $1,440 total cost, $30/rebalance
```

---

## Strategy Characteristics

### Charm's Passive Advantage
‚úÖ No swap execution = No slippage  
‚úÖ No swap fees (0.3% saved per rebalance)  
‚úÖ Lower MEV exposure  
‚úÖ Simpler execution  

### Steer's Active Approach
‚ö° Faster response to price changes  
‚ö° Can capture trending markets  
‚ö†Ô∏è Higher operational costs  
‚ö†Ô∏è 15% protocol fee vs Charm's 2%  

---

## Recommendations

### For Sideways/Ranging Markets
‚Üí **Charm Alpha Vault** - Lower costs, passive fills

### For Trending Markets  
‚Üí **Steer Classic** - Fixed width with price-triggered rebalance

### Avoid in High Volatility
‚Üí **Steer Elastic** - Bollinger bands cause excessive rebalancing

---

## Technical Implementation

All strategies are implemented in:
```
src/strategies/
‚îú‚îÄ‚îÄ charm_strategy.py    # Charm Alpha Vault
‚îú‚îÄ‚îÄ steer_strategy.py    # Steer Classic, Elastic, Fluid
‚îú‚îÄ‚îÄ base_strategy.py     # Common interface
‚îî‚îÄ‚îÄ uniswap_math.py      # V3 calculations
```

### Usage
```python
from strategies import CharmAlphaVaultStrategy, SteerClassicStrategy

charm = CharmAlphaVaultStrategy(
    base_threshold=600,
    limit_threshold=1200,
    rebalance_interval=172800  # 48 hours
)

steer = SteerClassicStrategy(
    position_width_ticks=600,
    rebalance_threshold_bps=500
)
```

---

*Generated by Katana Backtest System*

